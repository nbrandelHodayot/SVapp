# monitor_config.py

# =========================================================================
#                          הגדרות כלליות וצבעים
# =========================================================================
PLC_GREEN = (0, 255, 0)
# טווח צבע ירוק לזיהוי נורות פעילות (R_min, G_min, B_min, R_max, G_max, B_max)
PLC_GREEN_RANGE = (0, 200, 0, 100, 255, 100)

# =========================================================================
#                    מיפוי מבנים - אזור בנים בלבד
# =========================================================================
BUILDINGS_MAP_BOYS = {
    "1": 783, "2": 733, "3": 683, "4": 633, "5": 583, 
    "9א": 533, "9ב": 483, "11א1": 418, "11א2": 358, 
    "11ב1": 288, "11ב2": 228
}

# =========================================================================
#                          נורות דפי סטטוס (Status)
# =========================================================================
# סטטוס בנים
MONITOR_POINTS_STATUS_BOYS = {
    "boys": {
        'SB_B4_AC': (37, 173),  'SB_B4_R': (37, 199),  'SB_B4_T': (37, 225),
        'SB_B3_AC': (249, 173), 'SB_B3_R': (249, 199), 'SB_B3_T': (249, 225),
        'SB_B2_AC': (461, 173), 'SB_B2_R': (461, 199), 'SB_B2_T': (461, 225),
        'SB_B1_AC': (681, 173), 'SB_B1_R': (681, 199), 'SB_B1_T': (681, 226),
        'SB_B11B_AC1': (37, 326), 'SB_B11B_AC2': (37, 352), 'SB_B11B_R': (37, 378), 'SB_B11B_T': (37, 404), 'SB_B11B_WH': (37, 431),
        'SB_B11A_AC1': (249, 326), 'SB_B11A_AC2': (249, 352), 'SB_B11A_R': (249, 378), 'SB_B11A_T': (249, 404), 'SB_B11A_WH': (249, 430),
        'SB_B9_AC1': (461, 326), 'SB_B9_AC2': (461, 352), 'SB_B9_R': (461, 378), 'SB_B9_T': (461, 404),
        'SB_B5_AC': (681, 326), 'SB_B5_R': (681, 352), 'SB_B5_T': (681, 379),
    
        # סטטוס מועדונים
        'SB_C1_AC': (37, 514),  'SB_C1_L': (250, 514), 'SB_C1_S': (500, 514),
        'SB_C2_AC': (37, 550),  'SB_C2_L': (250, 550), 'SB_C2_S': (500, 548),
        'SB_C3_AC': (37, 585),  'SB_C3_L': (250, 585), 'SB_C3_S': (500, 583),
        'SB_C4_AC': (37, 620),  'SB_C4_L': (250, 620), 'SB_C4_S': (500, 618),
        'SB_C9_AC': (37, 655),  'SB_C9_L': (250, 655), 'SB_C9_S': (500, 653),
        'SB_C11_AC': (37, 690), 'SB_C11_L': (250, 690), 'SB_C11_S': (500, 688)
    },
}

# סטטוס בנות
MONITOR_POINTS_STATUS_GIRLS = {

    "girls": {
        # סטטוס בתים
        'SG_B7_AC1': (666, 144), 'SG_B7_AC2': (666, 168), 'SG_B7_R': (666, 192), 'SG_B7_T': (666, 216),
        'SG_B8_AC': (666, 281), 'SG_B8_R': (666, 305), 'SG_B8_T': (666, 329), 'SG_B8_WH': (666, 353),
        'SG_B10_AC1': (666, 418), 'SG_B10_AC2': (666, 442), 'SG_B10_R': (666, 466), 'SG_B10_T': (666, 490), 'SG_B10_WH': (666, 514),
        'SG_B12A_AC': (456, 168), 'SG_B12A_R': (456, 192), 'SG_B12A_T': (456, 191), 'SG_B12A_WH': (454, 215),
        'SG_B12B_AC': (247, 168), 'SG_B12B_R': (247, 192), 'SG_B12B_T': (245, 191),
        'SG_B12C_AC': (37, 168),  'SG_B12C_R': (37, 192),  'SG_B12C_T': (37, 191),
        'SG_B13A_AC': (454, 281), 'SG_B13A_R': (454, 305), 'SG_B13A_T': (454, 328), 'SG_B13A_WH': (454, 352),
        'SG_B13B_AC': (245, 281), 'SG_B13B_R': (245, 305), 'SG_B13B_T': (247, 328),
        'SG_B13C_AC': (37, 281),  'SG_B13C_R': (37, 305),  'SG_B13C_T': (37, 328),
        
        # סטטוס קראוונים
        'SG_CV20_AC': (454,417), 'SG_CV20_L': (454, 441),
        'SG_CV22_AC': (245, 417), 'SG_CV22_L': (245, 441),
        'SG_CV24_AC': (37, 417),  'SG_CV24_L': (37, 441),
        'SG_CV21_AC': (454, 471), 'SG_CV21_L': (454, 495),
        'SG_CV23_AC': (245, 471), 'SG_CV23_L': (245, 495),
        'SG_CV25_AC': (37, 471),  'SG_CV25_L': (37, 495),
        'SG_CV26_AC': (37, 525),  'SG_CV26_L': (37, 549),
        
        # סטטוס מועדונים
        'SG_C7_AC': (37, 589),   'SG_C7_L': (246, 590),   'SG_C7_S': (482, 590),
        'SG_C8_AC': (37, 618),   'SG_C8_L': (246, 618),   'SG_C8_S': (482, 618),
        'SG_C10_AC': (37, 645),  'SG_C10_L': (246, 646),  'SG_C10_S': (482, 646),
        'SG_C12_AC': (37, 673),  'SG_C12_L': (246, 674),  'SG_C12_S': (482, 674),
        'SG_C13A_AC': (37, 700), 'SG_C13A_L': (246, 701), 'SG_C13A_S': (482, 701),
        'SG_C13B_AC': (37, 727), 'SG_C13B_L': (246, 729), 'SG_C13B_S': (482, 728),
        'SG_C13C_AC': (37, 754), 'SG_C13C_L': (246, 755), 'SG_C13C_S': (482, 755),
    },
}

#סטטוס ציבורי
MONITOR_POINTS_STATUS_PUBLIC = {

    "public": {
        #מטבח
        'SP_KIT_L_KIT': (97, 174), 'SP_KIT_L_PERG': (97, 200), 'SP_KIT_H_MEAT': (97, 226), 
        'SP_KIT_P_MEAT': (97, 253), 'SP_KIT_H_DAIRY': (97, 280), 'SP_KIT_P_DAIRY': (97, 307), 
        'SP_KIT_RES': (97, 333),
        #חדר אוכל
        'SP_DR_AC': (356, 174), 'SP_DR_L': (356, 200), 'SP_DR_URN': (356, 226), 
        'SP_DR_C_COLD': (356, 253), 'SP_DR_C_SALAD': (356, 280), 
        'SP_DR_H_RIGHT': (356, 307), 'SP_DR_H_LEFT': (356, 333),
        # בית כנסת
        'SP_SYN_AC': (614, 174), 'SP_SYN_L_MEN': (614, 200), 
        'SP_SYN_L_WOMEN': (614, 226), 'SP_SYN_L_DEC': (614, 254),
        # מבנים קטנים
        'SP_LIB_S': (421, 442),      'SP_LIB_L': (255, 443),      'SP_LIB_AC': (97, 444), #ספריה
        'SP_HOLLAND_S': (421, 477),  'SP_HOLLAND_L': (255, 478),  'SP_HOLLAND_AC': (97, 479), #בית הולנד
        'SP_NATIV_S': (421, 512),    'SP_NATIV_L': (255, 513),    'SP_NATIV_AC': (97, 514), #כיתות נתיב
        'SP_D_SMALL_S': (421, 547),  'SP_D_SMALL_L': (255, 548),  'SP_D_SMALL_AC': (97, 549), #בית דוד אולם קטן
        'SP_D_BIG_S': (421, 582),    'SP_D_BIG_L': (255, 583),    'SP_D_BIG_AC': (97, 584), #בית דוד אולם גדול
        'SP_POLICE_S': (421, 617),   'SP_POLICE_L': (255, 618),   'SP_POLICE_AC': (97, 619), #כיתת משטרה
        'SP_SHELTER_S': (421, 652),  'SP_SHELTER_L': (255, 653),  'SP_SHELTER_AC': (97, 654), #מקלט נתיב
        'SP_ECON_S': (421, 687),     'SP_ECON_L': (255, 688),     'SP_ECON_AC': (97, 689), #כלכלת בית
        'SP_MUSIC_S': (421, 722),    'SP_MUSIC_L': (255, 723),    'SP_MUSIC_AC': (97, 724), #חדר מוזיקה
    }
}

# =========================================================================
#                    נורות בקרת אזורים (Control) - חלוקה למבנים
# =========================================================================
MONITOR_POINTS_CONTROL_SPLIT = {
    "boys": {
        "AC_B1": (839, 186), "R_B1": (839, 227), "T_B1": (839, 268),
        "AC_B2": (499, 186), "R_B2": (499, 227), "T_B2": (499, 268),
        "AC_B3": (159, 190), "R_B3": (159, 228), "T_B3": (159, 268),
        "AC_B4": (839, 354), "R_B4": (839, 395), "T_B4": (839, 436),
        "AC_B5": (499, 354), "R_B5": (499, 395), "T_B5": (499, 436),
        "AC_B9A": (159, 358), "AC_B9B": (159, 399), "R_B9": (159, 440), "T_B9": (159, 478),
        "AC_B11AA": (839, 534), "AC_B11AB": (839, 575), "R_B11A": (839, 616), "T_B11A": (839, 654), "W_B11A": (839, 694),
        "AC_B11BA": (499, 534), "AC_B11BB": (499, 575), "R_B11B": (499, 616), "T_B11B": (499, 654), "W_B11B": (499, 694)
    },
    "girls1": {
        "ACA_B7": (832, 204), "ACB_B7": (832, 245), "ROOM_B7": (832, 284), "WC_B7": (832, 324),
        "AC_B8": (502, 204), "ROOM_B8": (502, 245), "WC_B8": (502, 284), "HEAT_B8": (502, 324),
        "ACA_B10": (174, 165), "ACB_B10": (174, 206), "ROOM_B10": (174, 245), "WC_B10": (174, 325), "HEAT_B10": (174, 365),
        "AC_C20": (832, 419), "ROOM_C20": (832, 460),
        "AC_C21": (502, 419), "ROOM_C21": (502, 460),
        "AC_C22": (172, 419), "ROOM_C22": (172, 460),
        "AC_C23": (832, 555), "ROOM_C23": (832, 596),
        "AC_C24": (502, 555), "ROOM_C24": (502, 596),
        "AC_C25": (172, 555), "ROOM_C25": (172, 596),
        "AC_C26": (832, 694), "ROOM_C26": (832, 735)
    },
    "girls2": {
        "AC_B12A": (834, 221), "ROOM_B12A": (834, 262), "WC_B12A": (834, 301), "HEAT_B12": (834, 341),
        "AC_B12B": (504, 221), "ROOM_B12B": (504, 262), "WC_B12B": (504, 301),
        "AC_B12C": (174, 221), "ROOM_B12C": (174, 262), "WC_B12C": (174, 301),
        "AC_B13A": (834, 491), "ROOM_B13A": (834, 532), "WC_B13A": (834, 573), "HEAT_B13": (834, 611),
        "AC_B13B": (504, 491), "ROOM_B13B": (504, 532), "WC_B13B": (504, 573),
        "AC_B13C": (174, 491), "ROOM_B13C": (174, 532), "WC_B13C": (174, 573)
    }
}

# =========================================================================
#                    נורות בקרת אזורים (Control) - הפעלה כללית
# =========================================================================
MONITOR_POINTS_CONTROL_GEN = {
    "boys": {
        "T_B1": (295, 310), "T_B2": (215, 310), "T_B3": (135, 310), "T_B4": (55, 310),
        "T_B5": (295, 390), "T_B9": (55, 390), "T_B11A": (55, 470), "T_B11B": (55, 550),
        "R_B1": (626, 314), "R_B2": (556, 314), "R_B3": (476, 314), "R_B4": (396, 314),
        "R_B5": (626, 394), "R_B9": (396, 394), "R_B11A": (396, 474), "R_B11B": (396, 554),
        "AC_B1": (966, 314), "AC_B2": (896, 314), "AC_B3": (816, 314), "AC_B4": (736, 314),
        "AC_B5": (966, 394), "AC_B9A": (816, 394), "AC_B9B": (736, 394),
        "AC_B11AA": (816, 474), "AC_B11AB": (736, 474), "AC_B11BA": (816, 554), "AC_B11BB": (736, 554),
        "W_B11A": (552, 736), "W_B11B": (398, 736)
    },
    "girls": {
        'G7_T': (176, 303), 'G8_T': (116, 303), 'G10_T': (53, 303),
        'G12A_T': (176, 372), 'G12B_T': (116, 372), 'G12C_T': (53, 372),
        'G13A_T': (176, 439), 'G13B_T': (116, 439), 'G13C_T': (53, 439),
        'G7_R': (516, 303), 'G8_R': (456, 303), 'G10_R': (393, 303),
        'G12A_R': (516, 372), 'G12B_R': (456, 372), 'G12C_R': (393, 372),
        'G13A_R': (516, 439), 'G13B_R': (456, 439), 'G13C_R': (393, 439),
        'GC20_R': (631, 548), 'GC21_R': (593, 548), 'GC22_R': (555, 548), 'GC23_R': (516, 548),
        'GC24_R': (476, 548), 'GC25_R': (435, 548), 'GC26_R': (393, 548),
        'G7A_AC': (972, 303), 'G7B_AC': (916, 303), 'G8_AC': (857, 303), 'G10A_AC': (797, 303), 'G10B_AC': (734, 372),
        'G12A_AC': (857, 372), 'G12B_AC': (797, 372), 'G12C_AC': (734, 439),
        'G13A_AC': (857, 439), 'G13B_AC': (797, 439), 'G13C_AC': (734, 548),
        'GC20_AC': (734, 548), 'GC21_AC': (776, 548), 'GC22_AC': (817, 548),
        'GC23_AC': (857, 548), 'GC24_AC': (896, 548), 'GC25_AC': (934, 548), 'GC26_AC': (972, 548),
        'G8_W': (633, 734), 'G10_W': (553, 734), 'G12_W': (472, 734), 'G13_W': (391, 734),
    }
}

# =========================================================================
#                    נורות בקרת אזורים (Control) - ציבורי -D1
# =========================================================================

# נקודות לבדיקת צבע הכפתורים (רצועה 1 ו-2)
D1_BUTTON_SENSORS = {
    "SHABBAT_STATUS": [(93, 250), (108, 250)], # אם שניהם אדום (255,54,0) -> OFF
    "CLUBS_STATUS":   [(96, 453), (111, 453)]
}

# נורות ביקורת - קוביות תחתונות
MONITOR_POINTS_D1_STATUS = {
    "BOYS_HOUSES": {
        "בית 1": {"D1": (596, 607), "C1": (570, 607)},
        "בית 2": {"D1": (596, 629), "C1": (570, 629)},
        "בית 3": {"D1": (596, 651), "C1": (570, 651)},
        "בית 4": {"D1": (596, 673), "C1": (570, 673)},
        "בית 9": {"D1": (596, 695), "C1": (570, 695)},
        "בית 11": {"D1": (596, 717), "C1": (570, 717)},
    },
    "GIRLS_HOUSES": {
        "בית 7":  {"D1": (456, 607), "C1": (430, 607)},
        "בית 8":  {"D1": (456, 629), "C1": (430, 629)},
        "בית 10": {"D1": (456, 651), "C1": (430, 651)},
        "בית 12": {"D1": (456, 673), "C1": (430, 673)},
        "בית 13א": {"D1": (456, 695), "C1": (430, 695)},
        "בית 13ב": {"D1": (456, 717), "C1": (430, 717)},
        "בית 13ג": {"D1": (456, 740), "C1": (430, 740)},
    },
    "PUBLIC_1": {
        "ספריה":      {"D1": (301, 608), "C1": (275, 608), "C2": (248, 608)},
        "בית הולנד":  {"D1": (301, 630), "C1": (275, 630), "C2": (248, 630)},
        "כיתות נתיב": {"D1": (301, 652), "C1": (275, 652), "C2": (248, 652)},
    },
    "PUBLIC_2": {
        "בית דוד - אולם קטן":  {"D1": (64, 608), "C1": (38, 608)},
        "בית דוד - אולם גדול": {"D1": (64, 630), "C1": (38, 630)},
        "כיתת משטרה":         {"D1": (64, 652), "C1": (38, 652)},
        "מקלט":               {"D1": (64, 674), "C1": (38, 674)},
        "כלכלת בית":          {"D1": (64, 696), "C1": (38, 696)},
        "חדר מוסיקה":         {"D1": (64, 718), "C1": (38, 718)},
    },
}

# =========================================================================
#                    הגדרות שעוני שבת (Shabbat Clocks)
# =========================================================================

# =========================================================================
#                    הגדרות שעוני שבת (Shabbat Clocks) - קואורדינטות מדויקות
# =========================================================================

# נורות ביקורת (כפתורי השעונים) - קואורדינטות מדויקות
SHABBAT_STATUS_POINTS_BOYS = {
    "timer_1": (92, 266),   # שעון שבת 1
    "timer_2": (93, 412),   # שעון שבת 2
    "timer_3": (92, 556),   # שעון שבת 3
    "timer_4": (92, 701)    # שעון שבת 4
}

# נורות ביקורת (כפתורי השעונים) - אזור בנות
# TODO: המשתמש ינסה לדייק את הקואורדינטות - כרגע זה זמני
SHABBAT_STATUS_POINTS_GIRLS = {
    "timer_1": (92, 266),   # שעון שבת 1 - צריך לדייק
    "timer_2": (93, 412),   # שעון שבת 2 - צריך לדייק
    "timer_3": (92, 556),   # שעון שבת 3 - צריך לדייק
    "timer_4": (92, 701)    # שעון שבת 4 - צריך לדייק
}

# Y בסיסי לשעון הראשון (לשימוש בחישובים)
SHABBAT_TIME_Y_BASE = 266  # Y של שעון 1
SHABBAT_STEP_Y = 146       # המרחק הממוצע בין שעונים (412-266=146, 556-412=144, 701-556=145)

# מיפוי מבנים עבור שעוני שבת (אזור בנים) - עדכון עם טווחי פיקסלים
# Y קבוע: 228-229 (טווח) - עם offset לפי השעון
SHABBAT_BUILDINGS_Y_BOYS = 228  # Y התחלתי
SHABBAT_BUILDINGS_Y_END_BOYS = 229  # Y סופי

# טווחי X לכל מבנה (x_start, x_end)
SHABBAT_BUILDINGS_X_RANGES_BOYS = {
    "1": (784, 785),
    "2": (729, 736),
    "3": (679, 684),
    "4": (635, 636),
    "5": (580, 585),
    "9א": (537, 541),
    "9ב": (473, 483),
    "11א1": (421, 423),  # או "11א-1"
    "11א2": (336, 343),  # או "11א-2"
    "11ב1": (284, 293),  # או "11ב-1"
    "11ב2": (226, 235)   # או "11ב-2"
}

# מבנים מיוחדים לדף "חימום מים" (HEATER)
SHABBAT_BUILDINGS_X_RANGES_HEATER_BOYS = {
    "11א": (785, 794),
    "11ב": (633, 642)
}

# שמירה על תאימות לאחור - נקודת אמצע לכל טווח
SHABBAT_BUILDINGS_X_ROW1 = {
    "1": 784, "2": 732, "11א1": 422, "11א2": 339,
    "11ב1": 288, "11ב2": 230
}
SHABBAT_BUILDINGS_X_ROW2 = {
    "2": 732, "3": 681, "4": 635, "5": 582, "9א": 539, "9ב": 478
}
# Y של שורות המבנים (לשמירה על תאימות)
SHABBAT_BUILDINGS_Y_ROW1 = 228  # שורה ראשונה
SHABBAT_BUILDINGS_Y_ROW2 = 228  # שורה שנייה (אותו Y)
# מילון מאוחד לשימוש קדמי (לשמירה על תאימות)
SHABBAT_BUILDINGS_X = {**SHABBAT_BUILDINGS_X_ROW1, **SHABBAT_BUILDINGS_X_ROW2}

# הגדרות מיוחדות לחימום מים (טווחים) - אזור בנים
HEATER_BUILDINGS = {
    "11א": {"x_range": (727, 728), "y_range": (223, 734)},
    "11ב": {"x_range": (575, 576), "y_range": (223, 734)}
}

# =========================================================================
#                    מיפוי מבנים עבור שעוני שבת (אזור בנות)
# =========================================================================

# Y קבוע: 220-221 (טווח) - עם offset לפי השעון
SHABBAT_BUILDINGS_Y_GIRLS = 220  # Y התחלתי
SHABBAT_BUILDINGS_Y_END_GIRLS = 221  # Y סופי

# טווחי X לכל מבנה (x_start, x_end) - אזור בנות
SHABBAT_BUILDINGS_X_RANGES_GIRLS = {
    "7א": (936, 937),
    "7ב": (883, 892),
    "8": (844, 848),
    "10א": (809, 812),
    "10ב": (762, 765),
    "12א": (710, 717),
    "12ב": (663, 670),
    "12ג": (616, 623),
    "13א": (567, 572),
    "13ב": (520, 525),
    "13ג": (473, 478),
    "20": (407, 414),  # קרוואן 20
    "21": (362, 369),  # קרוואן 21
    "22": (315, 322),  # קרוואן 22
    "23": (269, 276),  # קרוואן 23
    "24": (223, 230),  # קרוואן 24
    "25": (177, 184),  # קרוואן 25
    "26": (131, 138)   # קרוואן 26
}

# מבנים מיוחדים לדף "חימום מים" - אזור בנות
# Y: 228-229 (טווח)
SHABBAT_BUILDINGS_Y_HEATER_GIRLS = 228  # Y התחלתי
SHABBAT_BUILDINGS_Y_END_HEATER_GIRLS = 229  # Y סופי
SHABBAT_BUILDINGS_X_RANGES_HEATER_GIRLS = {
    "8": (785, 794),
    "10": (714, 724),
    "12": (639, 648),  # תיקון: 639 עד 648 (המשתמש כתב 228 אבל זה Y, לא X)
    "13": (563, 572)
}

# מיקומי X לבדיקת ימים פעילים - עדכון עם טווחי פיקסלים
# Y קבוע: 285 (עם offset לפי השעון)
SHABBAT_DAYS_Y = 285  # Y קבוע לכל הימים
SHABBAT_DAYS_X_RANGES = {
    "א": (775, 782),   # יום א: X מ-775 עד 782
    "ב": (735, 742),   # יום ב: X מ-735 עד 742
    "ג": (694, 701),   # יום ג': X מ-694 עד 701
    "ד": (635, 641),   # יום ד': X מ-635 עד 641
    "ה": (570, 577),   # יום ה': X מ-570 עד 577
    "ו": (524, 531),   # יום ו': X מ-524 עד 531
    "ש": (490, 497)    # יום שבת: X מ-490 עד 497
}
# שמירה על תאימות לאחור - נקודת אמצע לכל טווח
SHABBAT_DAYS_X = {
    "א": 778, "ב": 738, "ג": 697, "ד": 638, "ה": 573, "ו": 527, "ש": 493
}

# =========================================================================
#                    לוגיקת סריקת ספרות (OCR Logic) - שעוני שבת
# =========================================================================

# מידות ספרה: 10 פיקסלים רוחב x 15 פיקסלים גובה
# המרחק בין ספרות: 2 פיקסלים
# 4 ספרות: שעה עשרות, שעה יחידות, דקה עשרות, דקה יחידות

# מיקומי X של 4 הספרות לשעת התחלה (START) - משמאל לימין
# ספרה ראשונה: x=364, ספרה שנייה: x=364+10+2=376, ספרה שלישית: x=376+10+2=388, ספרה רביעית: x=388+10+2=400
START_TIME_X = [364, 376, 388, 400]  # שעת התחלה - משמאל לימין

# מיקומי X של 4 הספרות לשעת הפסקה (STOP) - משמאל לימין
# ספרה ראשונה: x=234, ספרה שנייה: x=234+10+2=246, ספרה שלישית: x=246+10+2=258, ספרה רביעית: x=258+10+2=270
STOP_TIME_X = [234, 246, 258, 270]  # שעת הפסקה - משמאל לימין

# Y בסיסי לספרות השעה (שעון 1)
SHABBAT_DIGIT_Y_BASE = 276  # Y של שורת הספרות בשעון הראשון (עודכן מ-283 ל-276)

# Y של כל שעון (לחישוב offset)
SHABBAT_DIGIT_Y_TIMER_1 = 276  # שעון 1
SHABBAT_DIGIT_Y_TIMER_2 = 421  # שעון 2
SHABBAT_DIGIT_Y_TIMER_3 = 566  # שעון 3
SHABBAT_DIGIT_Y_TIMER_4 = 711  # שעון 4

# חישוב offset Y לפי השעון (ביחס לשעון הראשון) - ברירת מחדל (A/C1, A/C2)
SHABBAT_DIGIT_Y_OFFSETS = {
    1: 0,      # 276 - 276 = 0
    2: 145,    # 421 - 276 = 145
    3: 290,    # 566 - 276 = 290
    4: 435     # 711 - 276 = 435
}

# offsets Y לפי טאב - אזור בנים
# A/C1 ו-A/C2 משתמשים ב-SHABBAT_DIGIT_Y_OFFSETS (ברירת מחדל)
# ROOMS_LIGHT, WC, HEATER משתמשים ב-offsets שונים
SHABBAT_DIGIT_Y_OFFSETS_BY_TAB_BOYS = {
    "BOYS_SHABBAT_AC1": {
        1: 0,      # 276 - 276 = 0
        2: 145,    # 421 - 276 = 145
        3: 290,    # 566 - 276 = 290
        4: 435     # 711 - 276 = 435
    },
    "BOYS_SHABBAT_AC2": {
        1: 0,      # 276 - 276 = 0
        2: 145,    # 421 - 276 = 145
        3: 290,    # 566 - 276 = 290
        4: 435     # 711 - 276 = 435
    },
    "BOYS_SHABBAT_ROOM_LIGHTS": {
        1: 0,      # 276 - 276 = 0
        2: 146,    # 422 - 276 = 146
        3: 292,    # 568 - 276 = 292
        4: 438     # 714 - 276 = 438
    },
    "BOYS_SHABBAT_BATHROOM_LIGHTS": {
        1: 0,      # 276 - 276 = 0
        2: 146,    # 422 - 276 = 146
        3: 292,    # 568 - 276 = 292
        4: 438     # 714 - 276 = 438
    },
    "BOYS_SHABBAT_HEATER": {
        1: 0,      # 276 - 276 = 0
        2: 146,    # 422 - 276 = 146
        3: 292,    # 568 - 276 = 292
        4: 438     # 714 - 276 = 438
    }
}

# offsets Y לפי טאב - אזור בנות
SHABBAT_DIGIT_Y_OFFSETS_BY_TAB_GIRLS = {
    "GIRLS_SHABBAT_AC1": {
        1: 0,      # 272 - 272 = 0
        2: 147,    # 419 - 272 = 147
        3: 294,    # 566 - 272 = 294
        4: 441     # 713 - 272 = 441
    },
    "GIRLS_SHABBAT_AC2": {
        1: 0,      # 272 - 272 = 0
        2: 147,    # 419 - 272 = 147
        3: 294,    # 566 - 272 = 294
        4: 439     # 711 - 272 = 439
    },
    "GIRLS_SHABBAT_ROOM_LIGHTS": {
        1: 0,      # 262 - 262 = 0
        2: 158,    # 420 - 262 = 158
        3: 306,    # 568 - 262 = 306
        4: 454     # 716 - 262 = 454
    },
    "GIRLS_SHABBAT_BATHROOM_LIGHTS": {
        1: 0,      # 272 - 272 = 0
        2: 148,    # 420 - 272 = 148
        3: 296,    # 568 - 272 = 296
        4: 444     # 716 - 272 = 444
    },
    "GIRLS_SHABBAT_HEATER": {
        1: 0,      # 276 - 276 = 0
        2: 146,    # 422 - 276 = 146
        3: 292,    # 568 - 276 = 292
        4: 438     # 714 - 276 = 438
    }
}

# קואורדינטות X של ספרה ראשונה לפי טאב - אזור בנות
# X של "שעת הפעלה" (START)
SHABBAT_START_TIME_X_BY_TAB_GIRLS = {
    "GIRLS_SHABBAT_AC1": 323,
    "GIRLS_SHABBAT_AC2": 323,
    "GIRLS_SHABBAT_ROOM_LIGHTS": 343,
    "GIRLS_SHABBAT_BATHROOM_LIGHTS": 343,
    "GIRLS_SHABBAT_HEATER": 349
}

# X של "שעת הפסקה" (STOP) - נמוך ב-130 פיקסלים מ-START
SHABBAT_STOP_TIME_X_BY_TAB_GIRLS = {
    "GIRLS_SHABBAT_AC1": 193,      # 323 - 130
    "GIRLS_SHABBAT_AC2": 193,      # 323 - 130
    "GIRLS_SHABBAT_ROOM_LIGHTS": 213,  # 343 - 130
    "GIRLS_SHABBAT_BATHROOM_LIGHTS": 213,  # 343 - 130
    "GIRLS_SHABBAT_HEATER": 219    # 349 - 130
}

# Y בסיסי לספרות לפי טאב - אזור בנות
SHABBAT_DIGIT_Y_BASE_BY_TAB_GIRLS = {
    "GIRLS_SHABBAT_AC1": 272,
    "GIRLS_SHABBAT_AC2": 272,
    "GIRLS_SHABBAT_ROOM_LIGHTS": 262,
    "GIRLS_SHABBAT_BATHROOM_LIGHTS": 272,
    "GIRLS_SHABBAT_HEATER": 276
}

# קואורדינטות כפתור הפעלה/כיבוי לשעוני שבת
# גבולות הכפתור: x: 55-129, y: 221-242 (לשעון הראשון)
# בדיקת מצב ON/OFF: x=90, y מ-264 עד 271 (סריקה אנכית)
SHABBAT_BUTTON_X_CHECK = 90  # X לבדיקת מצב הכפתור (קבוע לכל השעונים)
SHABBAT_BUTTON_Y_CHECK_START = 264  # Y התחלתי לבדיקת מצב (לשעון הראשון)
SHABBAT_BUTTON_Y_CHECK_END = 271  # Y סופי לבדיקת מצב (לשעון הראשון)
SHABBAT_BUTTON_BOUNDS = {
    "x_min": 55,
    "x_max": 129,
    "y_min": 221,  # לשעון הראשון
    "y_max": 242   # לשעון הראשון
}

# מידות כל ספרה לסריקה (10x15 = רוחב x גובה) - עודכן לפי מידע חדש
DIGIT_W = 10  # רוחב ספרה (עודכן מ-14 ל-10)
DIGIT_H = 15  # גובה ספרה (עודכן מ-9 ל-15)

# נקודת X לבדיקה אם כפתור/נורת השעון פעילה (ירוקה) - לא בשימוש יותר, משתמשים ב-SHABBAT_STATUS_POINTS_BOYS
STATUS_POINT_X = 92  # X משותף לכל הנורות

# מבנה השעון (Layout) לשימוש בלולאות - מעודכן עם קואורדינטות מדויקות
SHABBAT_CLOCK_LAYOUT = {
    "DIGIT_W": DIGIT_W,  # 14
    "DIGIT_H": DIGIT_H,  # 9
    "DIGIT_Y_START": SHABBAT_DIGIT_Y_BASE,  # 283
    "START_X": START_TIME_X,  # [404, 392, 380, 368]
    "STOP_X": STOP_TIME_X,  # [234, 246, 258, 270] - צריך לבדוק
    "Y_STEP": SHABBAT_STEP_Y,  # 146
    "timers": {
        "timer_1": 0,      # offset: 266 - 266 = 0
        "timer_2": 146,    # offset: 412 - 266 = 146
        "timer_3": 290,    # offset: 556 - 266 = 290
        "timer_4": 435     # offset: 701 - 266 = 435
    }
}

# הגדרות תיבות זמן - בנים (שעון 1)
TIME_BOXES = {
    "START_TIME": {"x_start": 364, "y": 276, "spacing": 12},
    "STOP_TIME":  {"x_start": 234, "y": 276, "spacing": 12}
}

# מפת ניווט לדפי HTML
NAV_MAP = {
    "BOYS_SHABBAT": "control_boys_shabbat.html",
    "GIRLS_SHABBAT": "control_girls_shabbat.html",
    "PUBLIC_SHABBAT": "control_public_shabbat.html"
}

# =========================================================================
#                    מילון זיהוי ספרות (OCR Digit Recognition)
# =========================================================================
DIGIT_MAPS = {
    "0": [
        (0, [3,4,5,6]), (1, [2,3,4,5,6,7]), (2, [1,2,7,8]), (3, [1,2,7,8]),
        (4, [0,1,8,9]), (5, [0,1,8,9]), (6, [0,1,8,9]), (7, [0,1,8,9]),
        (8, [0,1,8,9]), (9, [0,1,8,9]), (10, [0,1,8,9]), (11, [0,1,8,9]),
        (12, [1,2,7,8]), (13, [2,3,4,5,6,7]), (14, [3,4,5,6])
    ],
    "1": [
        (0, [4,5,6]), (1, [4,5,6]), (2, [4,5,6]), (3, [1,2,3,4,5,6]), (4, [1,2,3,4,5,6]),
        (5, [5,6]), (6, [5,6]), (7, [5,6]), (8, [5,6]), (9, [5,6]),
        (10, [5,6]), (11, [5,6]), (12, [5,6]), (13, [5,6]), (14, [5,6])
    ],
    "2": [
        (0, [2,3,4,5,6,7]), (1, [1,2,3,4,5,6,7,8]), (2, [1,2,7,8,9]), (3, [0,1,8,9]),
        (4, [8,9]), (5, [8,9]), (6, [7,8]), (7, [7,8]), (8, [5,6,7]),
        (9, [4,5]), (10, [3,4]), (11, [2,3]), (12, [1,2]),
        (13, [1,2,3,4,5,6,7,8,9]), (14, [])
    ],
    "3": [
        (0, [2,3,4,5,6]), (1, [1,2,3,4,5,6,7]), (2, [0,1,2,6,7,8]), (3, [0,1,6,7,8]),
        (4, [7,8]), (5, [7,8]), (6, [6,7]), (7, [4,5,6,7]), (8, [4,5,6,7,8,9]),
        (9, [7,8,9]), (10, [8,9]), (11, [8,9]), (12, [0,1,2,8,9]),
        (13, [2,3,4,5,6,7,8]), (14, [2,3,4,5,6])
    ],
    "4": [
        (0, [6,7]), (1, [5,6,7]), (2, [4,5,6,7]), (3, [4,5,6,7]), (4, [3,4,6,7]),
        (5, [2,3,6,7]), (6, [1,2,6,7]), (7, [0,1,6,7]), (8, [0,6,7]),
        (9, [0,1,2,3,4,5,6,7,8,9]), (10, [0,1,2,3,4,5,6,7,8,9]),
        (11, [6,7]), (12, [6,7]), (13, [6,7]), (14, [6,7])
    ],
    "5": [
        (0, [2,3,4,5,6,7,8]), (1, [2,3,4,5,6,7,8]), (2, [3]), (3, [3]),
        (4, [1,2]), (5, [1,2,3,4,5,6,7]), (6, [1,2,3,4,5,6,7,8]), (7, [1,2,7,8,9]),
        (8, [8,9]), (9, [8,9]), (10, [8,9]), (11, [0,1,8]),
        (12, [0,1,2,7,8]), (13, [1,2,3,4,5,6,7,8]), (14, [2,3,4,5,6])
    ],
    "6": [
        (0, [0,1,2,3,6,7,8,9]), (1, [0,1,2,3,6,7,8,9]), (2, [0,1,2,3,6,7,8,9]), (3, [0,1,2,3,6,7,8,9]), (4, [0,1,2,3,6,7,8,9]),
        (5, [0,1,2,3,4,5,6,7,8,9]), (6, [0,1,2,3,4,5,6,7,8,9]), (7, [0,1,2,3,4,5,6,7,8,9]), (8, [0,1,2,3,4,5,6,7,8,9]), (9, [0,1,2,3,4,5,6,7,8,9]),
        (10, [0,1,2,3,4,5,6,7,8,9]), (11, [0,1,2,3,4,5,6,7,8,9]), (12, [0,1,2,3,6,7,8,9]), (13, [0,1,2,3,6,7,8,9]), (14, [0,1,2,3,6,7,8,9])
        # מיפוי מדויק מהתמונה:
        # שורות 0-4: שני בלוקים [0,1,2,3] ו-[6,7,8,9] מופרדים (עמודות 4,5 בהירות)
        # שורות 5-11: כל העמודות [0-9] (בלוק מלא)
        # שורות 12-14: שני בלוקים [0,1,2,3] ו-[6,7,8,9] מופרדים (עמודות 4,5 בהירות)
    ],
    "7": [
        (0, [0,1,2,3,4,5,6,7,8,9]), (1, [0,1,2,3,4,5,6,7,8,9]), (2, [7,8,9]),
        (3, [6,7,8]), (4, [6,7]), (5, [5,6]), (6, [5,6]), (7, [4,5]),
        (8, [4,5]), (9, [3,4]), (10, [3,4]), (11, [2,3]), (12, [2,3]),
        (13, [2,3]), (14, [2,3])
    ],
    "8": [
        (0, [3,4,5,6]), (1, [2,3,4,5,6,7]), (2, [1,2,7,8]), (3, [1,2,7,8]),
        (4, [2,3,7,8]), (5, [3,4,5,6]), (6, [2,3,7,8]), (7, [1,2,7,8]),
        (8, [1,2,7,8]), (9, [1,2,7,8]), (10, [1,2,7,8]), (11, [1,2,7,8]),
        (12, [1,2,7,8]), (13, [2,3,4,5,6,7]), (14, [3,4,5,6])
        # הבדל מ-3: בשורה 4, 8 יש [2,3,7,8] (כולל 2,3 בצד שמאל) - 3 יש רק [7,8] (ללא 2,3)
        # הבדל מ-3: בשורה 5, 8 יש [3,4,5,6] (כולל 3) - 3 יש [4,5,6,7] (ללא 3)
        # הבדל מ-0: בשורה 12, 8 יש [1,2,7,8] - 0 יש [1,2,7,8] (דומה, אבל שורה 13 שונה: 8 יש [2,3,4,5,6,7], 0 יש [2,3,4,5,6,7])
        # הבדל מ-6: בשורה 5, 8 יש [3,4,5,6] - 6 יש [1,2]
    ],
    "9": [
        (0, [1,2,3,4,5,6,7,8,9]), (1, [1,2,3,4,5,6,7,8,9]), (2, [1,2,3,4,5,6,7,8,9]), (3, [0,1,2,3,4,6,7,8,9]),
        (4, [1,2,3,4,5,6,7,8,9]), (5, [1,2,3,4,5,6,7,8,9]), (6, [1,2,3,4,5,6,7,8,9]), (7, [1,2,3,4,5,6,7,8,9]),
        (8, [1,2,3,4,5,6,7,8,9]), (9, [0,1,2,3,4,5,6,7,8,9]), (10, [0,1,2,3,4,5,6,7,8,9]), (11, [0,1,2,3,4,5,6,7,8,9]),
        (12, [0,1,2,3,5,6,7,8,9]), (13, [0,1,2,3,5,6,7,8,9]), (14, [0,1,2,3,5,6,7,8,9])
        # מיפוי מדויק מהתמונה:
        # שורות 0-2: [1-9] ללא 0 (צד שמאל בהיר)
        # שורה 3: [0-4,6-9] ללא 5
        # שורות 4-8: [1-9] ללא 0 (צד שמאל בהיר)
        # שורות 9-11: [0-9] כל העמודות (בלוק מלא)
        # שורות 12-14: [0-3,5-9] ללא 4 (צד שמאל כהה, אמצע בהיר)
    ]
}