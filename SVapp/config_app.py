# config_app.py
import socket

COMPUTER_NAME = socket.gethostname().upper() # הופך הכל לאותיות גדולות למניעת טעויות
# בדיקה גמישה יותר - אם השם מכיל את המחרוזת או שווה לה
SIMULATION_MODE = ("HOD2301-07" in COMPUTER_NAME) 

print(f"DEBUG: Computer Name is {COMPUTER_NAME}")
print(f"DEBUG: Simulation Mode is {SIMULATION_MODE}")

# --- הגדרות חיבור לבקר ---
REMOTE_IP = "192.168.1.234"
CONTROLLER_USERNAME = "Eli"
CONTROLLER_PASSWORD = "66911"
CGI_URL = f"http://{REMOTE_IP}/cgi-bin/remote_mouse.cgi"
REFERER = f"http://{REMOTE_IP}/remote_control_full.html?pic_format=bmp"

# --- אבטחת האפליקציה (Flask) ---
SECRET_KEY = "super-secret-key-change-me"
INACTIVITY_TIMEOUT = 270  # שניות עד לניתוק אוטומטי

# מילון משתמשים לכניסה לממשק הווב
USERS = {
    "admin": "6546",
    "eli": "66911"
}
 
# =================================================================
#           *** הגדרת Context N (הקשרים) ***
# =================================================================
# ערך ה-N קובע לאיזה מסך בבקר הפקודה מתייחסת
CONTEXT_N = {
    # --- כללי וניווט ראשי ---
    "MAIN":     "00010000000000000000",
    "STATUS":   "00500000000000000000",
    "CONTROL":  "00020000000000000000",
    "SETTINGS": "01000000000000000000",
    
    "CONTROL_MENU": "00020000000000000000",
    "NAV_CONTROL": "00020000000000000000",
    "LOGIN": "00010001000000000000",
    "WAKE_UP": "00010002000000000000",

    # --- סטטוס מערכות ---
    "STATUS_BOYS": "00500000000000000000",
    "STATUS_GIRLS": "00510000000000000000",
    "STATUS_PUBLIC": "00520000000000000000",
    "STATUS_SHABBAT": "00540000000000000000",

    # --- הפעלה כללית ---
    "BOYS_GENERAL": "00040000000000000000",
    "GIRLS_GENERAL": "00120000000000000000",

    # --- חלוקה למבנים ---
    "BOYS_SPLIT": "00030000000000000000",
    "GIRLS_SPLIT_1": "00100000000000000000",
    "GIRLS_SPLIT_2": "00110000000000000000",
    "PUBLIC_SPLIT": "00190000000000000000",

    # --- שעוני שבת בנים ---
    "BOYS_SHABBAT_AC1": "00050000000000000000",
    "BOYS_SHABBAT_AC2": "00060000000000000000",
    "BOYS_SHABBAT_ROOM_LIGHTS": "00070000000000000000",
    "BOYS_SHABBAT_BATHROOM_LIGHTS": "00080000000000000000",
    "BOYS_SHABBAT_HEATER": "00090000000000000000",

    # --- שעוני שבת בנות ---
    "GIRLS_SHABBAT_AC1": "00130000000000000000",
    "GIRLS_SHABBAT_AC2": "00140000000000000000",
    "GIRLS_SHABBAT_ROOM_LIGHTS": "00150000000000000000",
    "GIRLS_SHABBAT_BATHROOM_LIGHTS": "00160000000000000000",
    "GIRLS_SHABBAT_HEATER": "00170000000000000000",

    # --- מועדונים (בנים/בנות) ---
    "CLUBS_BOYS": "00340000000000000000",
    "CLUBS_GIRLS": "00350000000000000000",

    # --- מועדונים (אזור ציבורי) ---
    "CLUBS_PUBLIC_LIB": "00360000000000000000",
    "CLUBS_PUBLIC_HOLLAND": "00370000000000000000",
    "CLUBS_PUBLIC_NATIV": "00380000000000000000",
    "CLUBS_PUBLIC_DAVID": "00390000000000000000",
    "CLUBS_PUBLIC_POLICE": "00400000000000000000",
    "CLUBS_PUBLIC_ECONOMICS": "00410000000000000000",
    
    # --- שונות ---
    "PUBLIC_D1": "00330000000000000000",
    "D1_MAIN": "00330000000000000000",      # שעות מגעני D1 (ראשי)
    "D1_CLUBS_BOYS": "00340000000000000000", # מועדונים בנים
    "D1_CLUBS_GIRLS": "00350000000000000000",# מועדונים בנות
    "D1_CLUBS_PUB": "00360000000000000000",  # מועדונים ציבורי
}

COMMANDS = {
    # --- פקודות ניווט מהתפריט הראשי ---
    "NAV_STATUS": {"x": 503,"y": 232, "n": "00010000000000000000"},
    "NAV_CONTROL": {"x": 503,"y": 367, "n": "00010000000000000000"},
    "NAV_SETTINGS": {"x": 504,"y": 502, "n": "00010000000000000000"},
       
  # פקודות הפעלה בדף בקרת אזורים -אזור ציבורי -ביטול חיישן תנועה D1
    # ==כפתורי טוגל (רצועה 1 ו-2)==
    "D1_SHABBAT_TOGGLE": {"x": 93, "y": 248, "n": "D1_MAIN"}, #שעון ביטול חיישן בשבתות/חגים
    "D1_CLUBS_TOGGLE":   {"x": 96, "y": 451, "n": "D1_MAIN"}, # "אין כניסה למועדונים"
    # == ביטול/הפעלה D1==
    # בנים
    "D1_BOYS_ON":  {"x": 782, "y": 647, "n": "D1_MAIN"},
    "D1_BOYS_OFF": {"x": 837, "y": 647, "n": "D1_MAIN"},
    # בנות
    "D1_GIRLS_ON": {"x": 782, "y": 687, "n": "D1_MAIN"},
    "D1_GIRLS_OFF":{"x": 837, "y": 687, "n": "D1_MAIN"},
    # ציבורי
    "D1_PUB_ON":   {"x": 782, "y": 717, "n": "D1_MAIN"},
    "D1_PUB_OFF":  {"x": 837, "y": 717, "n": "D1_MAIN"},
    
 
    
    
}

# --- קואורדינטות טאבים (בתוך מסכי הסטטוס) ---
TAB_COORDS = {
    "TAB_BOYS":    {"x": 233, "y": 73},
    "TAB_GIRLS":   {"x": 168, "y": 73},
    "TAB_PUBLIC":  {"x": 102, "y": 73},
    "TAB_SHABBAT": {"x": 36, "y": 73}
}

# --- כפתורי חזרה (Back) לפי הקשר ---
BACK_CONFIG = {
    "STATUS_BOYS":   {"x": 931, "y": 73, "n": "00500000000000000000"},
    "STATUS_GIRLS":  {"x": 931, "y": 73, "n": "00510000000000000000"},
    "STATUS_PUBLIC": {"x": 931, "y": 73, "n": "00520000000000000000"},
    "STATUS_SHABBAT": {"x": 931, "y": 73, "n": "00540000000000000000"},
}

# קואורדינטות כלליות (למשל כפתור בית)
COMMON_COORDS = {
    "HOME_ICON": {"x": 20, "y": 20}
    }
    
# config.py - הוסף את השורות הבאות בסוף הקובץ

# הגדרות מקלדת עבור לוגין פיזי
KBD_START_X = 120
KBD_Y = 230
KBD_STEP = 40
KBD_DEFAULT_N = "00010001000000000000"

# נקודות חתימה לזיהוי דפים (פיקסל ייחודי לכל מסך כדי לוודא שהניווט הצליח)
PAGE_SIGNATURES = {
    "MAIN": {"x": 270, "y": 17, "color": (255, 255, 255)}, # פיקסל לבן ב-User מעיד על לוגין
}